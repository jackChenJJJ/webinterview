<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>标题</title>
    </head>
    <body>

    </body>
    <script>
        var Counter = (function() {
            var privateCounter = 0;
            function changeBy(val) {
                privateCounter += val;
            }
            return {
                increment: function() {
                changeBy(1);
                },
                decrement: function() {
                changeBy(-1);
                },
                value: function() {
                return privateCounter;
                }
            }
        })();

        console.log(Counter.value()); /* logs 0 */
        Counter.increment();
        Counter.increment();
        console.log(Counter.value()); /* logs 2 */
        Counter.decrement();
        console.log(Counter.value()); /* logs 1 */


        /**
         *  闭包实现私有方法
         * 
        */

        var makeCounter = function() {
            var privateCounter = 0;
            function changeBy(val) {
                privateCounter += val;
            }
            return {
                increment: function() {
                changeBy(1);
                },
                decrement: function() {
                changeBy(-1);
                },
                value: function() {
                return privateCounter;
                }
            }
        };

        var Counter1 = makeCounter();
        var Counter2 = makeCounter();
        console.log(Counter1.value()); /* logs 0 */
        Counter1.increment();
        Counter1.increment();
        console.log(Counter1.value()); /* logs 2 */
        Counter1.decrement();
        console.log(Counter1.value()); /* logs 1 */
        console.log(Counter2.value()); /* logs 0 */
    </script>
</html>